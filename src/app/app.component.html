<mat-toolbar color="primary" class="mat-elevation-z6">
  @if ((isHandset$ | async)) {
    <button
      mat-icon-button
      (click)="sidenav.toggle()"
      aria-label="Toggle sidenav">
      <mat-icon>menu</mat-icon>
    </button>
  }
  <span><mat-icon class="logo-icon">auto_stories</mat-icon> MageTech</span>
  <span class="toolbar-spacer"></span>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="!(isHandset$ | async)"
    class="sidenav mat-elevation-z2">
    <div class="nav-header">
      <mat-icon>library_books</mat-icon> Blog Posts
    </div>
    <mat-nav-list>
      @for (post of blogPosts; track post) {
        <a mat-list-item
          (click)="selectPost(post)"
          [class.active]="selectedPost === post">
          <mat-icon class="nav-icon">article</mat-icon>
          {{ post.title }}
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="content-container">
      @if (selectedPost) {
        <mat-card class="post-card">
          <mat-card-header>
            <mat-card-title>{{ selectedPost.title }}</mat-card-title>
            <mat-card-subtitle>Published on MageTech Blog</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div [innerHTML]="selectedPost.body"></div>
          </mat-card-content>
        </mat-card>
      }

      @if (!selectedPost) {
        <mat-card class="no-post-card">
          <mat-card-header>
            <mat-icon class="welcome-icon">auto_stories</mat-icon>
            <mat-card-title>Welcome to MageTech Blog</mat-card-title>
            <mat-card-subtitle>Explore the latest in technology</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>Please select a blog post from the menu to start reading.</p>
            <p>Our blog covers the latest trends in technology, programming, and digital innovation.</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary">
              <mat-icon>info</mat-icon> About Us
            </button>
            <button mat-button color="primary">
              <mat-icon>contact_support</mat-icon> Contact
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<router-outlet></router-outlet>
