<mat-toolbar color="primary" class="mat-elevation-z6">
  @if ((isHandset$ | async)) {
    <button
      mat-icon-button
      (click)="sidenav.toggle()"
      aria-label="Toggle sidenav">
      <mat-icon>menu</mat-icon>
    </button>
  }
  <span>MageTech</span>
  <span class="toolbar-spacer"></span>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav
    [mode]="(isHandset$ | async) ? 'push' : 'side'"
    [opened]="!(isHandset$ | async)"
    class="sidenav mat-elevation-z2">
    <mat-nav-list>
      <div class="nav-header">Blog Posts</div>
      @for (post of blogPosts; track post) {
        <a mat-list-item
          (click)="selectPost(post)"
          [class.active]="selectedPost === post">
          {{ post.title }}
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="content-container">
      @if (selectedPost) {
        <mat-card class="post-card mat-elevation-z4">
          <mat-card-header>
            <mat-card-title>{{ selectedPost.title }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div [innerHTML]="selectedPost.body"></div>
          </mat-card-content>
        </mat-card>
      }

      @if (!selectedPost) {
        <mat-card class="no-post-card mat-elevation-z4">
          <mat-card-header>
            <mat-card-title>Welcome to Angular Blog</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Please select a blog post from the menu to read.</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<router-outlet></router-outlet>
